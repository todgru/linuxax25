Name:           ax25-apps
Version:        @BASEVERSION@@EXTRAVERSION@
Release:        1
Summary:        AX.25 ham radio applications

Group:          Applications/Communications
#ax25ipd is BSD licensed, rest is GPLv2+
License:        GPLv2+ and BSD
URL:            http://linuxax25.googlecode.com/
Source0:        http://code.google.com/p/linuxax25/downloads/detail?name=%{name}-@VERSION@.tar.gz
BuildRoot:      %{_tmppath}/%{name}-@VERSION@-%{release}-root-%(%{__id_u} -n)
BuildRequires:	libstdcc++-devel, libax25-devel >= 1.0.1, ncurses-devel
Requires:       libstdc++, libax25 >= 1.0.0, ncurses

%description
This package provides specific user applications for hamradio that use AX.25 
Net/ROM or ROSE network protocols:

 * axcall: a general purpose AX.25, NET/ROM and ROSE connection program.
 * axlisten: a network monitor of all AX.25 traffic heard by the system.
 * ax25ipd: an RFC1226 compliant daemon which provides encapsulation of
   AX.25 traffic over IP.
 * ax25mond: retransmits data received from sockets into an AX.25 monitor
   socket.

%prep
%setup -q -n %{name}-@VERSION@

%build
%configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var
make %{?_smp_mflags}

%install
rm -rf $RPM_BUILD_ROOT
make install DESTDIR=$RPM_BUILD_ROOT
make installconf DESTDIR=$RPM_BUILD_ROOT

#don't include these twice
rm -rf $RPM_BUILD_ROOT%{_docdir}/%{name}

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root,-)
%doc AUTHORS ChangeLog COPYING README
%doc %{_docdir}/*
%config %{_sysconfdir}/ax25/*
%{_bindir}/*
%{_sbindir}/*
%{_mandir}/man?/*

%changelog
* Fri Jan 29 2011 Lee Woldanski <ve7fet@tparc.org> 1.0.1-1
- Fixed some of the versioning output for creating files so it is correct
- Changed configure line to put files where they belong
- Added some dependencies
- Added a make installconf line to install the default config files during packaging
- Identified the config files

* Sat Jun 27 2009 Ralf Baechle <ralf@linux-mips.org>
- Initial version
